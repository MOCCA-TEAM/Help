{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADELMO\\\\Documents\\\\Projetos VS Code\\\\ProPet\\\\ProjectPet\\\\frontend\\\\src\\\\pages\\\\Profile\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\nimport api from '../../services/api';\nimport './styles.css';\nexport default function Profile() {\n  const [products, setProducts] = useState([]);\n  const history = useHistory();\n  const petshopId = localStorage.getItem('petshopId');\n  const petshopName = localStorage.getItem('petshopName');\n  useEffect(() => {\n    api.get('profile', {\n      headers: {\n        Authorization: petshopId\n      }\n    }).then(response => {\n      setProducts(response.data);\n    });\n  }, [petshopId]);\n\n  async function handleDeleteProduct(id) {\n    try {\n      await api.delete(`itens/${id}`, {\n        headers: {\n          Authorization: petshopId\n        }\n      });\n      setProducts(products.filter(product => product.id !== id));\n    } catch (err) {\n      alert('Erro ao deletar caso, tente novamente.');\n    }\n  }\n\n  function handleLogout() {\n    localStorage.clear();\n    history.push('/login');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    classname: \"profile-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, \"Bem vinda, \", petshopName, \" \"), /*#__PURE__*/React.createElement(Link, {\n    className: \"button\",\n    to: \"/product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Cadastrar novo produto\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FiPower, {\n    size: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Produtos Cadastrados\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, products.map(produc => /*#__PURE__*/React.createElement(\"li\", {\n    key: produc.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"PRODUTO:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, produc.name), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"DESCRI\\xC7\\xC3O:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, produc.description), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"PRE\\xC7O:\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  }).format(produc.price)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDeleteProduct(produc.id),\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FiTrash2, {\n    size: 20,\n    color: \"#a8a8b3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })))))));\n}\n;\n/*\r\n\r\n            <div>\r\n            <ul>\r\n               {products.map(produc => (\r\n               <li key ={produc.id}>\r\n                   \r\n                    <strong>PRODUTO:</strong>\r\n                    <p>{produc.product}</p>\r\n\r\n                    <strong>CATEGORIA:</strong>\r\n                    <p>{produc.category}</p>\r\n\r\n                    <strong>TIPO:</strong>\r\n                    <p>{produc.type}</p>\r\n\r\n                    <strong>VALOR NUTRITIVO:</strong>\r\n                    <p>{produc.ntvalue}</p>\r\n\r\n                    <strong>PREÇO:</strong>\r\n                    <p>{Intl.NumberFormat('pt-BR', {style: 'currency', currency: 'BRL'}).format(produc.price)}</p>\r\n\r\n                    <button onClick={() => handleDeleteProduct(produc.id)} type=\"button\">\r\n                        <FiTrash2 size={20} color=\"#a8a8b3\"/>\r\n                    </button>\r\n                </li>\r\n                ))} \r\n            </ul>\r\n            </div>\r\n*/","map":{"version":3,"sources":["C:/Users/ADELMO/Documents/Projetos VS Code/ProPet/ProjectPet/frontend/src/pages/Profile/index.js"],"names":["React","useState","useEffect","Link","useHistory","FiPower","FiTrash2","api","Profile","products","setProducts","history","petshopId","localStorage","getItem","petshopName","get","headers","Authorization","then","response","data","handleDeleteProduct","id","delete","filter","product","err","alert","handleLogout","clear","push","map","produc","name","description","Intl","NumberFormat","style","currency","format","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { FiPower, FiTrash2 } from 'react-icons/fi';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport './styles.css';\r\n\r\nexport default function Profile(){\r\n    const [products, setProducts] = useState([]);\r\n\r\n    const history = useHistory();\r\n    const petshopId = localStorage.getItem('petshopId');\r\n    const petshopName = localStorage.getItem('petshopName');\r\n\r\n    useEffect(() =>{\r\n        api.get('profile', {\r\n            headers: {\r\n                Authorization: petshopId,\r\n            }\r\n        }).then(response =>{\r\n            setProducts(response.data);\r\n        })\r\n    }, [petshopId]); \r\n\r\n    async function handleDeleteProduct(id){\r\n        try{\r\n            await api.delete(`itens/${id}`, {\r\n                headers: {\r\n                    Authorization: petshopId,\r\n                }\r\n            });\r\n            setProducts(products.filter(product => product.id !== id))\r\n        }catch(err){\r\n            alert('Erro ao deletar caso, tente novamente.')\r\n        }\r\n    }\r\n\r\n    function handleLogout() {\r\n        localStorage.clear();\r\n\r\n        history.push('/login');\r\n    }\r\n\r\n    return (\r\n        <div classname=\"profile-container\">\r\n            <header>\r\n                <span>Bem vinda, {petshopName} </span>\r\n\r\n                <Link className=\"button\" to=\"/product\">Cadastrar novo produto</Link>\r\n                <button onClick={handleLogout} type=\"button\">\r\n                    <FiPower size={18} />\r\n                </button>\r\n            </header>\r\n\r\n            <h1>Produtos Cadastrados</h1>\r\n            <div>\r\n            <ul>\r\n               {products.map(produc => (\r\n               <li key ={produc.id}>\r\n                    <strong>PRODUTO:</strong>\r\n                    <p>{produc.name}</p>\r\n\r\n                    <strong>DESCRIÇÃO:</strong>\r\n                    <p>{produc.description}</p>\r\n\r\n                    <strong>PREÇO:</strong>\r\n                    <p>{Intl.NumberFormat('pt-BR', {style: 'currency', currency: 'BRL'}).format(produc.price)}</p>\r\n\r\n                    <button onClick={() => handleDeleteProduct(produc.id)} type=\"button\">\r\n                        <FiTrash2 size={20} color=\"#a8a8b3\"/>\r\n                    </button>\r\n                </li>\r\n                ))} \r\n            </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n/*\r\n\r\n            <div>\r\n            <ul>\r\n               {products.map(produc => (\r\n               <li key ={produc.id}>\r\n                   \r\n                    <strong>PRODUTO:</strong>\r\n                    <p>{produc.product}</p>\r\n\r\n                    <strong>CATEGORIA:</strong>\r\n                    <p>{produc.category}</p>\r\n\r\n                    <strong>TIPO:</strong>\r\n                    <p>{produc.type}</p>\r\n\r\n                    <strong>VALOR NUTRITIVO:</strong>\r\n                    <p>{produc.ntvalue}</p>\r\n\r\n                    <strong>PREÇO:</strong>\r\n                    <p>{Intl.NumberFormat('pt-BR', {style: 'currency', currency: 'BRL'}).format(produc.price)}</p>\r\n\r\n                    <button onClick={() => handleDeleteProduct(produc.id)} type=\"button\">\r\n                        <FiTrash2 size={20} color=\"#a8a8b3\"/>\r\n                    </button>\r\n                </li>\r\n                ))} \r\n            </ul>\r\n            </div>\r\n*/"]},"metadata":{},"sourceType":"module"}